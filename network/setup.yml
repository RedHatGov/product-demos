---
user_message:

controller_components:
  - organizations
  - projects
  - credentials
  - inventories
  - hosts
  - inventory_sources
  - inventory_source_update
  - job_templates

controller_organizations:
  - name: Networking
    galaxy_credentials:
      - Automation Hub
      - Ansible Galaxy

controller_projects:
  - name: Network Golden Configs
    organization: Networking
    scm_type: git
    scm_url: https://github.com/nleiva/ansible-net-modules
    update_project: yes
    wait: yes

  - name: Ansible official demo project (Network)
    organization: Networking
    scm_type: git
    scm_branch: main
    scm_url: "{{ repo }}"
    update_project: yes
    wait: yes
    description: "Copy of Ansible official demo project for Network ORG"

controller_inventories:
  - name: Network Inventory
    organization: Networking
  - name: Workshop Inventory (NET)
    organization: Networking

controller_inventory_sources:
  - name: DevNet always-on sandboxes
    source: scm
    inventory: Network Inventory
    overwrite: true
    source_project: Network Golden Configs
    source_path: hosts

controller_credentials:
  - name: Workshop Credential (NET)
    credential_type: Machine
    organization: Networking
    inputs:
      ssh_key_data: "{{ ssh_key }}"

controller_hosts:
  - name: node1
    inventory: Workshop Inventory (NET)
    variables:
      ansible_user: rhel
      ansible_host: node1

controller_templates:
  - name: NETWORK / Configuration
    organization: Networking
    inventory: Network Inventory
    survey_enabled: true
    project: Network Golden Configs
    playbook: main.yml
    notification_templates_started: Telemetry
    notification_templates_success: Telemetry
    notification_templates_error: Telemetry
    ask_limit_on_launch: true
    use_fact_cache: yes
    survey:
      name: ''
      description: ''
      spec:
        - question_name: What resource would you like to configure?
          type: multiplechoice
          variable: rm
          required: true
          choices:
            - acls
            - banner
            - bgp_global
            - hostname
            - l3_interface
            - logging
            - ntp
            - ospfv2
            - prefix_lists
            - snmp
            - user

  - name: "NETWORK / Report"
    job_type: check
    organization: Networking
    inventory: Workshop Inventory (NET)
    project: "Ansible official demo project (Network)"
    playbook: "network/report.yml"
    notification_templates_started: Telemetry
    notification_templates_success: Telemetry
    notification_templates_error: Telemetry
    use_fact_cache: true
    ask_job_type_on_launch: yes
    credentials:
    - "Workshop Credential (NET)"
    survey_enabled: true
    survey:
      name: ''
      description: ''
      spec:
        - question_name: Server Name or Pattern
          type: text
          variable: HOSTS
          required: true
